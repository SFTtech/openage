

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Formations &mdash; openage v0.3.1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/graphviz.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Garrison" href="garrison.html" />
    <link rel="prev" title="Damage" href="damage.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >
          

          
            <a href="../../../index.html" class="icon icon-home"> openage
          

          
            
            <img src="../../../_static/banner.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../reference/building.html">Building openage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../build_instructions/arch_linux.html">Prerequisite steps for Arch Linux users</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../build_instructions/debian.html">Prerequisite steps for Debian Sid users</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../build_instructions/fedora.html">Prerequisite steps for Fedora users (Fedora &gt;= 27)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../build_instructions/freebsd.html">Prerequisite steps for FreeBSD users</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../build_instructions/gentoo.html">Installation for Gentoo users</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../build_instructions/gentoo.html#overlay">Overlay</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../build_instructions/gentoo.html#installation">Installation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../build_instructions/gentoo.html#git-version">git version</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../build_instructions/index.html">Building openage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../build_instructions/arch_linux.html">Prerequisite steps for Arch Linux users</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../build_instructions/debian.html">Prerequisite steps for Debian Sid users</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../build_instructions/fedora.html">Prerequisite steps for Fedora users (Fedora &gt;= 27)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../build_instructions/freebsd.html">Prerequisite steps for FreeBSD users</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../build_instructions/gentoo.html">Installation for Gentoo users</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../build_instructions/gentoo.html#overlay">Overlay</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../build_instructions/gentoo.html#installation">Installation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../build_instructions/opensuse_13.2.html">Prerequisite steps for openSUSE users (openSUSE 13.2)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../build_instructions/opensuse_tumbleweed.html">Prerequisite steps for openSUSE users (openSUSE Tumbleweed)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../build_instructions/os_x_10.10_yosemite.html">Prerequisite steps for Mac OS X users (OS X 10.10 Yosemite)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../build_instructions/ubuntu.html">Prerequisite steps for Ubuntu users (Ubuntu 18.04)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../build_instructions/windows_msvc.html">Procedure for Microsoft Windows users (Windows 10)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../build_instructions/windows_msvc.html#setting-up-the-build-environment">Setting up the build environment</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../build_instructions/windows_msvc.html#building-openage">Building openage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../build_instructions/windows_msvc.html#running-openage-in-devmode">Running openage (in devmode)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../build_instructions/windows_msvc.html#packaging">Packaging</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../build_instructions/opensuse_13.2.html">Prerequisite steps for openSUSE users (openSUSE 13.2)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../build_instructions/opensuse_tumbleweed.html">Prerequisite steps for openSUSE users (openSUSE Tumbleweed)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../build_instructions/os_x_10.10_yosemite.html">Prerequisite steps for Mac OS X users (OS X 10.10 Yosemite)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../build_instructions/ubuntu.html">Prerequisite steps for Ubuntu users (Ubuntu 18.04)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../build_instructions/windows_msvc.html">Procedure for Microsoft Windows users (Windows 10)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../build_instructions/windows_msvc.html#setting-up-the-build-environment">Setting up the build environment</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../build_instructions/windows_msvc.html#python-modules">Python Modules</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../build_instructions/windows_msvc.html#vcpkg-packages">vcpkg packages</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../build_instructions/windows_msvc.html#building-openage">Building openage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../build_instructions/windows_msvc.html#running-openage-in-devmode">Running openage (in devmode)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../build_instructions/windows_msvc.html#packaging">Packaging</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Developing openage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../README.html">Documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../README.html#static-docs">Static Docs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../README.html#dynamic-docs">Dynamic Docs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../README.html#doc-generation">Doc Generation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture.html">openage architecture</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../architecture.html#overview">Overview</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../architecture.html#components">Components</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architecture.html#utilities">Utilities</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../architecture.html#information-flow">Information flow</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../architecture.html#current-architecture">Current architecture</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architecture.html#goal-architecture">Goal architecture</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../assets.html">openage assets</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../assets.html#asset-directories">Asset directories</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../assets.html#metadata-assets">Metadata assets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../assets.html#data-assets">Data assets</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../building.html">Building the project</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../building.html#buildsystem-design">Buildsystem Design</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../building.html#dependencies">Dependencies</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../building.html#dependency-installation">Dependency installation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../building.html#nyan-installation">nyan installation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../building.html#build-procedure">Build procedure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../building.html#development">Development</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../building.html#release">Release</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../building.html#for-packagers">For packagers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../building.html#troubleshooting">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../building.html#faq">FAQ</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../buildsystem.html">Concept</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../buildsystem.html#components">Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../buildsystem.html#procedure">Procedure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../buildsystem.html#phases">Phases</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../buildsystem.html#cmake-time-configure">CMake-time: <code class="docutils literal notranslate"><span class="pre">./configure</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../buildsystem.html#build-time-make">Build time: <code class="docutils literal notranslate"><span class="pre">make</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../buildsystem.html#install-time-make-install">Install time <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">install</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../buildsystem.html#core-buildsystem-modules">Core buildsystem modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../buildsystem.html#cpp">cpp</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../buildsystem.html#python">python</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../buildsystem.html#codegen">codegen</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../buildsystem.html#other-modules">other modules</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing.html">Contributing to openage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../contributing.html#what-can-i-do">What can I do?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing.html#what-s-the-concept">What’s the concept?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing.html#tl-dr">tl;dr</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing.html#workflow">Workflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing.html#what-makes-a-good-pull-request-good">What makes a good Pull Request good?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing.html#rebasing">Rebasing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../contributing.html#rebase-in-practice"><code class="docutils literal notranslate"><span class="pre">rebase</span></code> in practice</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../contributing.html#changing-commits-with-amend-and-fixup">Changing commits with <code class="docutils literal notranslate"><span class="pre">amend</span></code> and <code class="docutils literal notranslate"><span class="pre">fixup</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../contributing.html#pushing-changes">Pushing changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../debug.html">How to debug openage?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../debug.html#qt-creator-ide">Qt Creator IDE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../debug.html#gdb">GDB</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../debug.html#note">Note:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../debug.html#gdbgui">GDBGUI</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../development.html">About development</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../development.html#dev-team">Dev team</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../development.html#development-workflow">Development workflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../development.html#contributing">Contributing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../development.html#code-philosophy">Code philosophy</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../ide.html">Developing openage in Integrated Development Environments (IDEs)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../ide.html#qt-creator-ide">Qt Creator IDE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../ide.html#opening-and-configuring-the-project">Opening and configuring the project</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ide.html#enabling-parallel-build">Enabling parallel build</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ide.html#run-debug">Run &amp; Debug</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../media_convert.html">How to use the original game assets?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../media_convert.html#conversion">Conversion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../milestones.html">Milestones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../project_structure.html">Project Structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../project_structure.html#architecture">Architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../project_structure.html#languages">Languages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../project_structure.html#folders">Folders</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../project_structure.html#doc">doc/</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../project_structure.html#openage">openage/</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../project_structure.html#assets">assets/</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../project_structure.html#buildsystem">buildsystem/</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../project_structure.html#libopenage">libopenage/</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../status.html">openage status</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../status.html#the-list-must-grow">The list must grow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../status.html#working-features">Working features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../status.html#missing-functionality">Missing functionality</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../status.html#under-the-hood">Under the hood</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../status.html#python-interface">Python interface</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../status.html#inotify-file-reloading">Inotify file reloading</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../status.html#terminal-emulator">Terminal emulator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../status.html#buildsystem">Buildsystem</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../status.html#job-management">Job management</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../troubleshooting.html">Troubleshooting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../troubleshooting.html#asset-conversion">Asset Conversion</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../troubleshooting.html#conversion-fails-when-converting-from-aoe-ii-hd-edition">Conversion fails when converting from <em>AoE II: HD Edition</em></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../troubleshooting.html#conversion-fails-for-the-conquerors-1-0c">Conversion fails for <em>The Conquerors</em> 1.0c</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../troubleshooting.html#ingame">Ingame</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../troubleshooting.html#ui-elements-are-visible-but-the-background-stays-black">UI elements are visible but the background stays black</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/modding.html">Modding API (nyan)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../wiki/quickstart-guide.html">Quickstart Guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../wiki/quickstart-guide.html#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../wiki/quickstart-guide.html#data-types">Data types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../wiki/quickstart-guide.html#unit-upgrades-in-nyan">Unit upgrades in nyan</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../wiki/quickstart-guide.html#objects">Objects</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../wiki/quickstart-guide.html#patches">Patches</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../wiki/quickstart-guide.html#creating-a-tech">Creating a tech</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../wiki/quickstart-guide.html#nyan-and-the-openage-engine">Nyan and the openage engine</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../nyan/conversion.html">nyan data conversion</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/conversion.html#gamedata-conversion">Gamedata conversion</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../nyan/examples.html">openage nyan examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nyan/nyan.html">nyan</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/nyan.html#idea">Idea</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/nyan.html#technical-specification">Technical specification</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/nyan.html#openage-specifics">openage specifics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../nyan/openage-lib.html">openage nyan library</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/openage-lib.html#design-principles">Design principles</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/openage-lib.html#api-objects">API objects</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../nyan/openage-lib.html#entity">Entity</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../nyan/openage-lib.html#gameentity">GameEntity</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../nyan/openage-lib.html#ability">Ability</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../nyan/openage-lib.html#modifier">Modifier</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../nyan/openage-lib.html#effect">Effect</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../nyan/reference.html">Reference</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/reference.html#animationoverride">AnimationOverride</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/reference.html#availabilityprerequisite">AvailabilityPrerequisite</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/reference.html#availability-prerequisites-techresearched">availability_prerequisites.TechResearched</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/reference.html#availability-prerequisites-gameentityprogress">availability_prerequisites.GameEntityProgress</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/reference.html#availabilityrequirement">AvailabilityRequirement</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/reference.html#civilization">Civilization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/reference.html#dropofftype">DropoffType</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/reference.html#dropoff-types-inverselinear">dropoff_types.InverseLinear</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/reference.html#dropoff-types-linear">dropoff_types.Linear</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/reference.html#dropoff-types-nodropoff">dropoff_types.NoDropoff</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/reference.html#language">Language</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/reference.html#language-languagemarkuppair">language.LanguageMarkupPair</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/reference.html#language-languagesoundpair">language.LanguageSoundPair</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/reference.html#language-languagetextpair">language.LanguageTextPair</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/reference.html#mod">Mod</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/reference.html#patch">Patch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/reference.html#patch-diplomaticpatch">patch.DiplomaticPatch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/reference.html#resource">Resource</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/reference.html#resource-resourcecontingent">resource.ResourceContingent</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/reference.html#resourceamount">ResourceAmount</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/reference.html#resourcerate">ResourceRate</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/reference.html#resourcespot">ResourceSpot</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/reference.html#resource-spots-restockableresourcespot">resource_spots.RestockableResourceSpot</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/reference.html#tech">Tech</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/reference.html#terrain">Terrain</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/reference.html#terrain-terrainambient">terrain.TerrainAmbient</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/reference.html#translatedobject">TranslatedObject</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/reference.html#translated-translatedmarkupfile">translated.TranslatedMarkupFile</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/reference.html#translated-translatedsound">translated.TranslatedSound</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/reference.html#translated-translatedstring">translated.TranslatedString</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/reference.html#variant">Variant</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/reference.html#variants-randomvariant">variants.RandomVariant</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/reference.html#variants-perspectivevariant">variants.PerspectiveVariant</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/reference.html#variants-adjacencyvariant">variants.AdjacencyVariant</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../reference/reverse_engineering.html">Reverse-engineered AoE II</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../civilizations.html">Civilization attributes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../civilizations.html#age-of-empires-i">Age of Empires I</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../civilizations.html#civilization-specials">Civilization specials</a></li>
<li class="toctree-l4"><a class="reference internal" href="../civilizations.html#unit-building-creation-table">Unit/Building creation table</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Reverse-engineered AoE II</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../civilizations.html">Civilization attributes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../civilizations.html#age-of-empires-i">Age of Empires I</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../scoring.html">Score system</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../scoring.html#age-of-empires-i">Age of Empires I</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../unit_stats/unit_stats.html">Unit statistics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../unit_stats/unit_stats.html#age-of-kings">Age of Kings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../unit_stats/unit_stats.html#age-of-conquerors">Age of Conquerors</a></li>
<li class="toctree-l4"><a class="reference internal" href="../unit_stats/unit_stats.html#forgotten-empires">Forgotten Empires</a></li>
<li class="toctree-l4"><a class="reference internal" href="../unit_stats/unit_stats.html#african-kingsdoms">African Kingsdoms</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../networking/01-general.html">General Structure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/01-general.html#test-setup">Test Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/01-general.html#transport-protocols">Transport Protocols</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/01-general.html#packet-types">Packet types</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/01-general.html#values-and-data-types">Values and data types</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/01-general.html#id-system">ID system</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/01-general.html#coordinate-system">Coordinate system</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/01-general.html#further-reading">Further Reading</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../networking/02-header.html">Protocol Header</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/02-header.html#definition">Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/02-header.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/02-header.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../networking/03-sync.html">Sync</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/03-sync.html#periodic">Periodic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/03-sync.html#non-periodic">Non-Periodic</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../networking/04-lobby.html">Lobby</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/04-lobby.html#values-and-length">Values and Length</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../networking/05-chat_protocol.html">Chat messages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/05-chat_protocol.html#definition">Definition</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../networking/05-chat_protocol.html#example">Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../networking/05-chat_protocol.html#misaligned-memory-of-the-above-message">Misaligned memory of the above message</a></li>
<li class="toctree-l3"><a class="reference internal" href="../networking/06-chat_message_spoofing.html">Spoofing and forging AoC chat messages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/06-chat_message_spoofing.html#setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/06-chat_message_spoofing.html#preparation">Preparation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/06-chat_message_spoofing.html#forging-the-packet">Forging the packet</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/06-chat_message_spoofing.html#execution">Execution</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/06-chat_message_spoofing.html#example">Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../networking/07-primary_action.html">Unit interaction - Primary action</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/07-primary_action.html#definition">Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/07-primary_action.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/07-primary_action.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../networking/08-movement.html">Unit interaction - Movement actions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/08-movement.html#stop-action">Stop action</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/08-movement.html#move-action">Move action</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/08-movement.html#setting-waypoints">Setting Waypoints</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/08-movement.html#delete-action">Delete action</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/08-movement.html#attack-ground">Attack ground</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/08-movement.html#ungarrison-action">Ungarrison action</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/08-movement.html#garrison-action">Garrison action</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/08-movement.html#drop-relic">Drop relic</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../networking/09-formation.html">Unit interaction - Formation actions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/09-formation.html#stance-action">Stance action</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/09-formation.html#guard-action">Guard action</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/09-formation.html#follow-action">Follow action</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/09-formation.html#patrol-action">Patrol action</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/09-formation.html#formation-action">Formation action</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../networking/10-unit_creation.html">Unit creation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/10-unit_creation.html#training-unit-human-player">Training unit (human player)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/10-unit_creation.html#rally-point-action">Rally Point action</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../networking/11-buildings.html">Buildings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/11-buildings.html#research">Research</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/11-buildings.html#build-action">Build action</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/11-buildings.html#build-wall-action">Build wall action</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/11-buildings.html#repair">Repair</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/11-buildings.html#toggle-gate">Toggle gate</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/11-buildings.html#townbell">Townbell</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/11-buildings.html#back-to-work">Back to work</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../networking/12-market.html">Market actions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/12-market.html#sell">Sell</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/12-market.html#buy">Buy</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../networking/13-other.html">Others</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/13-other.html#resign-disconnect">Resign/Disconnect</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/13-other.html#save-game">Save game</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/13-other.html#diplomacy-cheats-and-gamespeed">Diplomacy, Cheats and Gamespeed</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/13-other.html#tribute">Tribute</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/13-other.html#flare">Flare</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../networking/14-ai.html">AI actions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/14-ai.html#primary-action-ai-player">Primary action (AI player)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/14-ai.html#move-ai-player">Move (AI player)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/14-ai.html#waypoints-ai-player">Waypoints (AI player)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/14-ai.html#training-unit-ai-player">Training unit (AI player)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../networking/15-c-structs.html">C Structs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#sync">Sync</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#actions">Actions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../networking/technology_ids.html">Technology IDs</a></li>
<li class="toctree-l3"><a class="reference internal" href="accuracy.html">Accuracy and Projectiles</a><ul>
<li class="toctree-l4"><a class="reference internal" href="accuracy.html#distance">Distance</a></li>
<li class="toctree-l4"><a class="reference internal" href="accuracy.html#mechanics-before-and-after-ballistics">Mechanics before and after “Ballistics”</a></li>
<li class="toctree-l4"><a class="reference internal" href="accuracy.html#stray-arrows-and-scorpions">Stray Arrows and Scorpions</a></li>
<li class="toctree-l4"><a class="reference internal" href="accuracy.html#target-size">Target Size</a></li>
<li class="toctree-l4"><a class="reference internal" href="accuracy.html#friendly-fire">Friendly Fire</a></li>
<li class="toctree-l4"><a class="reference internal" href="accuracy.html#weird-aoe2-quirks">Weird AoE2 Quirks</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="attacking_alarm.html">Attacking Alarms</a><ul>
<li class="toctree-l4"><a class="reference internal" href="attacking_alarm.html#the-two-different-alarms-alerts">The two different alarms/alerts</a></li>
<li class="toctree-l4"><a class="reference internal" href="attacking_alarm.html#battles">Battles</a></li>
<li class="toctree-l4"><a class="reference internal" href="attacking_alarm.html#cooldown">Cooldown</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="build_speed.html">Build speed</a><ul>
<li class="toctree-l4"><a class="reference internal" href="build_speed.html#math">Math</a></li>
<li class="toctree-l4"><a class="reference internal" href="build_speed.html#relation-to-the-building-s-hp">Relation to the building’s HP</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="building_placement.html">Building placement constraints</a></li>
<li class="toctree-l3"><a class="reference internal" href="building_placement.html#range-to-keep-building">Range to keep building</a></li>
<li class="toctree-l3"><a class="reference internal" href="damage.html">Damage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="damage.html#measurement">Measurement</a></li>
<li class="toctree-l4"><a class="reference internal" href="damage.html#attack-damage-formula">Attack damage formula</a></li>
<li class="toctree-l4"><a class="reference internal" href="damage.html#damage-by-projectiles">Damage by Projectiles</a></li>
</ul>
</li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Formations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#principles-of-formations-in-aoe2">Principles of Formations in AoE2</a></li>
<li class="toctree-l4"><a class="reference internal" href="#structure">Structure</a></li>
<li class="toctree-l4"><a class="reference internal" href="#subformations">Subformations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#formation-types">Formation Types</a></li>
<li class="toctree-l4"><a class="reference internal" href="#limits-in-aoe2">Limits in AoE2</a></li>
<li class="toctree-l4"><a class="reference internal" href="#algorithmic-solutions">Algorithmic solutions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="garrison.html">Garrison</a><ul>
<li class="toctree-l4"><a class="reference internal" href="garrison.html#number-of-projectiles">Number of projectiles</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="garrison.html#weird-aoe2-quirks">Weird AoE2 Quirks</a></li>
<li class="toctree-l3"><a class="reference internal" href="market.html">Market</a><ul>
<li class="toctree-l4"><a class="reference internal" href="market.html#trade-cart-gold-calculation">Trade Cart gold calculation</a></li>
<li class="toctree-l4"><a class="reference internal" href="market.html#age-of-kings">Age of Kings</a></li>
<li class="toctree-l4"><a class="reference internal" href="market.html#the-conquerors">The Conquerors</a></li>
<li class="toctree-l4"><a class="reference internal" href="market.html#tribute">Tribute</a></li>
<li class="toctree-l4"><a class="reference internal" href="market.html#prices">Prices</a></li>
<li class="toctree-l4"><a class="reference internal" href="market.html#destroying-a-market">Destroying a market</a></li>
<li class="toctree-l4"><a class="reference internal" href="market.html#weird-aoe2-quirks">Weird AoE2 Quirks</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="monk_conversion.html">Monk Conversion</a><ul>
<li class="toctree-l4"><a class="reference internal" href="monk_conversion.html#unit-conversion">Unit Conversion</a></li>
<li class="toctree-l4"><a class="reference internal" href="monk_conversion.html#building-conversion">Building Conversion</a></li>
<li class="toctree-l4"><a class="reference internal" href="monk_conversion.html#weird-aoe2-quirks">Weird AoE2 Quirks</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="pathfinding.html">Pathfinding</a><ul>
<li class="toctree-l4"><a class="reference internal" href="pathfinding.html#algorithms">Algorithms</a></li>
<li class="toctree-l4"><a class="reference internal" href="pathfinding.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ram_speed.html">Ram Speed</a><ul>
<li class="toctree-l4"><a class="reference internal" href="ram_speed.html#garrison-capacity">Garrison Capacity</a></li>
<li class="toctree-l4"><a class="reference internal" href="ram_speed.html#speed">Speed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="rates.html">Rates</a></li>
<li class="toctree-l3"><a class="reference internal" href="rates.html#animals">Animals</a></li>
<li class="toctree-l3"><a class="reference internal" href="rates.html#relics">Relics</a></li>
<li class="toctree-l3"><a class="reference internal" href="repair.html">Repair</a><ul>
<li class="toctree-l4"><a class="reference internal" href="repair.html#speed">Speed</a></li>
<li class="toctree-l4"><a class="reference internal" href="repair.html#cost">Cost</a></li>
<li class="toctree-l4"><a class="reference internal" href="repair.html#exceptions">Exceptions</a></li>
<li class="toctree-l4"><a class="reference internal" href="repair.html#math">Math</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="selection.html">Selecting and Deselecting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="selection.html#single-units">Single units</a></li>
<li class="toctree-l4"><a class="reference internal" href="selection.html#multiple-units">Multiple units</a></li>
<li class="toctree-l4"><a class="reference internal" href="selection.html#selection-queue-actions">Selection queue actions</a></li>
<li class="toctree-l4"><a class="reference internal" href="selection.html#weird-aoe2-quirks">Weird AoE2 Quirks</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="switching_villager_tasks.html">Switching tasks</a><ul>
<li class="toctree-l4"><a class="reference internal" href="switching_villager_tasks.html#losing-carried-resources">Losing carried resources</a></li>
<li class="toctree-l4"><a class="reference internal" href="switching_villager_tasks.html#automatic-task-switching-for-builders">Automatic task-switching for builders</a></li>
<li class="toctree-l4"><a class="reference internal" href="switching_villager_tasks.html#weird-aoe2-quirks">Weird AoE2 Quirks</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="town_bell.html">Town Bell</a><ul>
<li class="toctree-l4"><a class="reference internal" href="town_bell.html#range">Range</a></li>
<li class="toctree-l4"><a class="reference internal" href="town_bell.html#garrison-limit">Garrison limit</a></li>
<li class="toctree-l4"><a class="reference internal" href="town_bell.html#where-will-villagers-garrison">Where will villagers garrison?</a></li>
<li class="toctree-l4"><a class="reference internal" href="town_bell.html#possible-implementation">Possible implementation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="waypoints.html">Waypoints</a><ul>
<li class="toctree-l4"><a class="reference internal" href="waypoints.html#mechanics">Mechanics</a></li>
<li class="toctree-l4"><a class="reference internal" href="waypoints.html#limitation">Limitation</a></li>
<li class="toctree-l4"><a class="reference internal" href="waypoints.html#weird-aoe2-quirks">Weird AoE2 Quirks</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="wolves.html">Wolves</a><ul>
<li class="toctree-l4"><a class="reference internal" href="wolves.html#line-of-sight">Line of Sight</a></li>
<li class="toctree-l4"><a class="reference internal" href="wolves.html#balancing">Balancing</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../scoring.html">Score system</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../scoring.html#age-of-empires-i">Age of Empires I</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../scoring.html#military">Military</a></li>
<li class="toctree-l4"><a class="reference internal" href="../scoring.html#economy">Economy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../scoring.html#religion">Religion</a></li>
<li class="toctree-l4"><a class="reference internal" href="../scoring.html#technology">Technology</a></li>
<li class="toctree-l4"><a class="reference internal" href="../scoring.html#survival-wonders">Survival/Wonders</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../unit_stats/unit_stats.html">Unit statistics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../unit_stats/unit_stats.html#age-of-kings">Age of Kings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../unit_stats/unit_stats.html#age-of-conquerors">Age of Conquerors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../unit_stats/unit_stats.html#forgotten-empires">Forgotten Empires</a></li>
<li class="toctree-l3"><a class="reference internal" href="../unit_stats/unit_stats.html#african-kingsdoms">African Kingsdoms</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../networking/01-general.html">General Structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../networking/01-general.html#test-setup">Test Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../networking/01-general.html#transport-protocols">Transport Protocols</a></li>
<li class="toctree-l3"><a class="reference internal" href="../networking/01-general.html#packet-types">Packet types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../networking/01-general.html#values-and-data-types">Values and data types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../networking/01-general.html#id-system">ID system</a></li>
<li class="toctree-l3"><a class="reference internal" href="../networking/01-general.html#coordinate-system">Coordinate system</a></li>
<li class="toctree-l3"><a class="reference internal" href="../networking/01-general.html#further-reading">Further Reading</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../networking/02-header.html">Protocol Header</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../networking/02-header.html#definition">Definition</a></li>
<li class="toctree-l3"><a class="reference internal" href="../networking/02-header.html#description">Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../networking/02-header.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../networking/03-sync.html">Sync</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../networking/03-sync.html#periodic">Periodic</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/03-sync.html#bc41">16BC41</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/03-sync.html#bc31">16BC31</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/03-sync.html#bc32">16BC32</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/03-sync.html#bc35">24BC35</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/03-sync.html#bc53">26BC53</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/03-sync.html#bc44">32BC44</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/03-sync.html#bc4d">56BC4D</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../networking/03-sync.html#non-periodic">Non-Periodic</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/03-sync.html#bc51">24BC51</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/03-sync.html#bc52">24BC52</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../networking/04-lobby.html">Lobby</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../networking/04-lobby.html#values-and-length">Values and Length</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../networking/05-chat_protocol.html">Chat messages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../networking/05-chat_protocol.html#definition">Definition</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/05-chat_protocol.html#description">Description</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../networking/05-chat_protocol.html#example">Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="../networking/05-chat_protocol.html#misaligned-memory-of-the-above-message">Misaligned memory of the above message</a></li>
<li class="toctree-l2"><a class="reference internal" href="../networking/06-chat_message_spoofing.html">Spoofing and forging AoC chat messages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../networking/06-chat_message_spoofing.html#setup">Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../networking/06-chat_message_spoofing.html#preparation">Preparation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../networking/06-chat_message_spoofing.html#forging-the-packet">Forging the packet</a></li>
<li class="toctree-l3"><a class="reference internal" href="../networking/06-chat_message_spoofing.html#execution">Execution</a></li>
<li class="toctree-l3"><a class="reference internal" href="../networking/06-chat_message_spoofing.html#example">Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../networking/07-primary_action.html">Unit interaction - Primary action</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../networking/07-primary_action.html#definition">Definition</a></li>
<li class="toctree-l3"><a class="reference internal" href="../networking/07-primary_action.html#description">Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../networking/07-primary_action.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../networking/08-movement.html">Unit interaction - Movement actions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../networking/08-movement.html#stop-action">Stop action</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/08-movement.html#definition">Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/08-movement.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/08-movement.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../networking/08-movement.html#move-action">Move action</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/08-movement.html#id1">Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/08-movement.html#id2">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/08-movement.html#id3">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../networking/08-movement.html#setting-waypoints">Setting Waypoints</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/08-movement.html#id4">Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/08-movement.html#id5">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/08-movement.html#id6">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../networking/08-movement.html#delete-action">Delete action</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/08-movement.html#id7">Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/08-movement.html#id8">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/08-movement.html#id9">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../networking/08-movement.html#attack-ground">Attack ground</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/08-movement.html#id10">Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/08-movement.html#id11">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/08-movement.html#id12">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../networking/08-movement.html#ungarrison-action">Ungarrison action</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/08-movement.html#id13">Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/08-movement.html#id14">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/08-movement.html#id15">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../networking/08-movement.html#garrison-action">Garrison action</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/08-movement.html#id16">Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/08-movement.html#id17">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/08-movement.html#id18">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../networking/08-movement.html#drop-relic">Drop relic</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/08-movement.html#id19">Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/08-movement.html#id20">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/08-movement.html#id21">Examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../networking/09-formation.html">Unit interaction - Formation actions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../networking/09-formation.html#stance-action">Stance action</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/09-formation.html#definition">Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/09-formation.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/09-formation.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../networking/09-formation.html#guard-action">Guard action</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/09-formation.html#id1">Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/09-formation.html#id2">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/09-formation.html#id3">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../networking/09-formation.html#follow-action">Follow action</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/09-formation.html#id4">Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/09-formation.html#id5">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/09-formation.html#id6">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../networking/09-formation.html#patrol-action">Patrol action</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/09-formation.html#id7">Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/09-formation.html#id8">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/09-formation.html#id9">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../networking/09-formation.html#formation-action">Formation action</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/09-formation.html#id10">Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/09-formation.html#id11">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/09-formation.html#id12">Examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../networking/10-unit_creation.html">Unit creation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../networking/10-unit_creation.html#training-unit-human-player">Training unit (human player)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/10-unit_creation.html#definition">Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/10-unit_creation.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/10-unit_creation.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../networking/10-unit_creation.html#rally-point-action">Rally Point action</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/10-unit_creation.html#id1">Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/10-unit_creation.html#id2">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/10-unit_creation.html#id3">Examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../networking/11-buildings.html">Buildings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../networking/11-buildings.html#research">Research</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/11-buildings.html#definition">Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/11-buildings.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/11-buildings.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../networking/11-buildings.html#build-action">Build action</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/11-buildings.html#id1">Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/11-buildings.html#id2">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/11-buildings.html#id3">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../networking/11-buildings.html#build-wall-action">Build wall action</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/11-buildings.html#id4">Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/11-buildings.html#id5">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/11-buildings.html#id6">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../networking/11-buildings.html#repair">Repair</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/11-buildings.html#id7">Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/11-buildings.html#id8">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/11-buildings.html#id9">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../networking/11-buildings.html#toggle-gate">Toggle gate</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/11-buildings.html#id10">Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/11-buildings.html#id11">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/11-buildings.html#id12">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../networking/11-buildings.html#townbell">Townbell</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/11-buildings.html#id13">Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/11-buildings.html#id14">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/11-buildings.html#id15">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../networking/11-buildings.html#back-to-work">Back to work</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/11-buildings.html#id16">Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/11-buildings.html#id17">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/11-buildings.html#id18">Examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../networking/12-market.html">Market actions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../networking/12-market.html#sell">Sell</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/12-market.html#definition">Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/12-market.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/12-market.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../networking/12-market.html#buy">Buy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/12-market.html#id1">Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/12-market.html#id2">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/12-market.html#id3">Examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../networking/13-other.html">Others</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../networking/13-other.html#resign-disconnect">Resign/Disconnect</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/13-other.html#definition">Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/13-other.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/13-other.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../networking/13-other.html#save-game">Save game</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/13-other.html#id1">Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/13-other.html#id2">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/13-other.html#id3">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../networking/13-other.html#diplomacy-cheats-and-gamespeed">Diplomacy, Cheats and Gamespeed</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/13-other.html#id4">Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/13-other.html#id5">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/13-other.html#id6">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../networking/13-other.html#tribute">Tribute</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/13-other.html#id7">Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/13-other.html#id8">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/13-other.html#id9">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../networking/13-other.html#flare">Flare</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/13-other.html#id10">Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/13-other.html#id11">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/13-other.html#id12">Examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../networking/14-ai.html">AI actions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../networking/14-ai.html#primary-action-ai-player">Primary action (AI player)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/14-ai.html#definition">Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/14-ai.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/14-ai.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../networking/14-ai.html#move-ai-player">Move (AI player)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/14-ai.html#id1">Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/14-ai.html#id2">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/14-ai.html#id3">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../networking/14-ai.html#waypoints-ai-player">Waypoints (AI player)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/14-ai.html#id4">Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/14-ai.html#id5">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/14-ai.html#id6">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../networking/14-ai.html#training-unit-ai-player">Training unit (AI player)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/14-ai.html#id7">Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/14-ai.html#id8">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/14-ai.html#id9">Examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../networking/15-c-structs.html">C Structs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../networking/15-c-structs.html#sync">Sync</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#bc41">16BC41</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#bc31">16BC31</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#bc32">16BC32</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#bc35">24BC35</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#bc53">26BC53</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#bc44">32BC44</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#bc4d">56BC4D</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#bc51">24BC51</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#bc52">24BC52</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../networking/15-c-structs.html#actions">Actions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#primary-action">00 - Primary Action</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#stop">01 - Stop</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#ai-primary-action">02 - AI Primary Action</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#move">03 - Move</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#a-ai-move">0a - AI Move</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#b-resign">0b - Resign</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#waypoint">10 - Waypoint</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#stance">12 - Stance</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#guard">13 - Guard</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#follow">14 - Follow</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#patrol">15 - Patrol</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#formation">17 - Formation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#b-save">1b - Save</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#f-ai-waypoints">1f - AI Waypoints</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#ai-training">64 - AI Training</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#research">65 - Research</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#build">66 - Build</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#multipurpose">67 - Multipurpose</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#build-wall">69 - Build Wall</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#a-delete">6a - Delete</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#b-attack-ground">6b - Attack ground</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#c-attack-ground">6c - Attack ground</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#e-repair">6e - Repair</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#f-ungarrison">6f - Ungarrison</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#toggle-gate">72 - Toggle Gate</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#flare">73 - Flare</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#garrison">75 - Garrison</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#training">77 - Training</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#rally-point">78 - Rally Point</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#a-sell">7a - Sell</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#b-buy">7b - Buy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#e-drop-relic">7e - Drop Relic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#f-townbell">7f - Townbell</a></li>
<li class="toctree-l4"><a class="reference internal" href="../networking/15-c-structs.html#back-to-work">80 - Back to work</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../networking/technology_ids.html">Technology IDs</a></li>
<li class="toctree-l2"><a class="reference internal" href="accuracy.html">Accuracy and Projectiles</a><ul>
<li class="toctree-l3"><a class="reference internal" href="accuracy.html#distance">Distance</a><ul>
<li class="toctree-l4"><a class="reference internal" href="accuracy.html#inaccuracy">Inaccuracy</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="accuracy.html#mechanics-before-and-after-ballistics">Mechanics before and after “Ballistics”</a></li>
<li class="toctree-l3"><a class="reference internal" href="accuracy.html#stray-arrows-and-scorpions">Stray Arrows and Scorpions</a></li>
<li class="toctree-l3"><a class="reference internal" href="accuracy.html#target-size">Target Size</a></li>
<li class="toctree-l3"><a class="reference internal" href="accuracy.html#friendly-fire">Friendly Fire</a></li>
<li class="toctree-l3"><a class="reference internal" href="accuracy.html#weird-aoe2-quirks">Weird AoE2 Quirks</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="attacking_alarm.html">Attacking Alarms</a><ul>
<li class="toctree-l3"><a class="reference internal" href="attacking_alarm.html#the-two-different-alarms-alerts">The two different alarms/alerts</a></li>
<li class="toctree-l3"><a class="reference internal" href="attacking_alarm.html#battles">Battles</a></li>
<li class="toctree-l3"><a class="reference internal" href="attacking_alarm.html#cooldown">Cooldown</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="build_speed.html">Build speed</a><ul>
<li class="toctree-l3"><a class="reference internal" href="build_speed.html#math">Math</a></li>
<li class="toctree-l3"><a class="reference internal" href="build_speed.html#relation-to-the-building-s-hp">Relation to the building’s HP</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="building_placement.html">Building placement constraints</a></li>
<li class="toctree-l2"><a class="reference internal" href="building_placement.html#range-to-keep-building">Range to keep building</a></li>
<li class="toctree-l2"><a class="reference internal" href="damage.html">Damage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="damage.html#measurement">Measurement</a></li>
<li class="toctree-l3"><a class="reference internal" href="damage.html#attack-damage-formula">Attack damage formula</a><ul>
<li class="toctree-l4"><a class="reference internal" href="damage.html#armor">Armor</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="damage.html#damage-by-projectiles">Damage by Projectiles</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Formations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#principles-of-formations-in-aoe2">Principles of Formations in AoE2</a></li>
<li class="toctree-l3"><a class="reference internal" href="#structure">Structure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ship-formations">Ship Formations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#subformations">Subformations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#individual-subformation">Individual Subformation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#influence-of-other-subformations">Influence of other Subformations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#formation-types">Formation Types</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#line-formation">Line Formation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#staggered-formation">Staggered Formation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#boxed-formation">Boxed Formation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#flanked-formation">Flanked Formation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#marching-formation">Marching formation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#limits-in-aoe2">Limits in AoE2</a></li>
<li class="toctree-l3"><a class="reference internal" href="#algorithmic-solutions">Algorithmic solutions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sort-units-into-subformations-pseudocode">Sort units into subformations (Pseudocode)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#add-units-into-a-subformation-pseudocode">Add units into a subformation (Pseudocode)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#order-units-inside-subformation-pseudocode">Order units inside subformation (Pseudocode)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="garrison.html">Garrison</a><ul>
<li class="toctree-l3"><a class="reference internal" href="garrison.html#number-of-projectiles">Number of projectiles</a><ul>
<li class="toctree-l4"><a class="reference internal" href="garrison.html#example">Example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="garrison.html#weird-aoe2-quirks">Weird AoE2 Quirks</a></li>
<li class="toctree-l2"><a class="reference internal" href="market.html">Market</a><ul>
<li class="toctree-l3"><a class="reference internal" href="market.html#trade-cart-gold-calculation">Trade Cart gold calculation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="market.html#math">Math</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="market.html#age-of-kings">Age of Kings</a></li>
<li class="toctree-l3"><a class="reference internal" href="market.html#the-conquerors">The Conquerors</a></li>
<li class="toctree-l3"><a class="reference internal" href="market.html#tribute">Tribute</a></li>
<li class="toctree-l3"><a class="reference internal" href="market.html#prices">Prices</a></li>
<li class="toctree-l3"><a class="reference internal" href="market.html#destroying-a-market">Destroying a market</a><ul>
<li class="toctree-l4"><a class="reference internal" href="market.html#the-trading-partners-market-is-destroyed">The trading partners’ market is destroyed</a></li>
<li class="toctree-l4"><a class="reference internal" href="market.html#your-market-is-destroyed">Your market is destroyed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="market.html#weird-aoe2-quirks">Weird AoE2 Quirks</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="monk_conversion.html">Monk Conversion</a><ul>
<li class="toctree-l3"><a class="reference internal" href="monk_conversion.html#unit-conversion">Unit Conversion</a></li>
<li class="toctree-l3"><a class="reference internal" href="monk_conversion.html#building-conversion">Building Conversion</a></li>
<li class="toctree-l3"><a class="reference internal" href="monk_conversion.html#weird-aoe2-quirks">Weird AoE2 Quirks</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="pathfinding.html">Pathfinding</a><ul>
<li class="toctree-l3"><a class="reference internal" href="pathfinding.html#algorithms">Algorithms</a></li>
<li class="toctree-l3"><a class="reference internal" href="pathfinding.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ram_speed.html">Ram Speed</a><ul>
<li class="toctree-l3"><a class="reference internal" href="ram_speed.html#garrison-capacity">Garrison Capacity</a></li>
<li class="toctree-l3"><a class="reference internal" href="ram_speed.html#speed">Speed</a><ul>
<li class="toctree-l4"><a class="reference internal" href="ram_speed.html#math">Math</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="rates.html">Rates</a></li>
<li class="toctree-l2"><a class="reference internal" href="rates.html#animals">Animals</a></li>
<li class="toctree-l2"><a class="reference internal" href="rates.html#relics">Relics</a></li>
<li class="toctree-l2"><a class="reference internal" href="repair.html">Repair</a><ul>
<li class="toctree-l3"><a class="reference internal" href="repair.html#speed">Speed</a></li>
<li class="toctree-l3"><a class="reference internal" href="repair.html#cost">Cost</a></li>
<li class="toctree-l3"><a class="reference internal" href="repair.html#exceptions">Exceptions</a></li>
<li class="toctree-l3"><a class="reference internal" href="repair.html#math">Math</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="selection.html">Selecting and Deselecting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="selection.html#single-units">Single units</a></li>
<li class="toctree-l3"><a class="reference internal" href="selection.html#multiple-units">Multiple units</a><ul>
<li class="toctree-l4"><a class="reference internal" href="selection.html#selection-box">Selection Box</a></li>
<li class="toctree-l4"><a class="reference internal" href="selection.html#double-clicking">Double-clicking</a></li>
<li class="toctree-l4"><a class="reference internal" href="selection.html#grouping-units">Grouping units</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="selection.html#selection-queue-actions">Selection queue actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="selection.html#weird-aoe2-quirks">Weird AoE2 Quirks</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="switching_villager_tasks.html">Switching tasks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="switching_villager_tasks.html#losing-carried-resources">Losing carried resources</a></li>
<li class="toctree-l3"><a class="reference internal" href="switching_villager_tasks.html#automatic-task-switching-for-builders">Automatic task-switching for builders</a><ul>
<li class="toctree-l4"><a class="reference internal" href="switching_villager_tasks.html#automatic-drop-off-after-building-a-gathering-site">Automatic Drop-off after building a gathering site</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="switching_villager_tasks.html#weird-aoe2-quirks">Weird AoE2 Quirks</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="town_bell.html">Town Bell</a><ul>
<li class="toctree-l3"><a class="reference internal" href="town_bell.html#range">Range</a></li>
<li class="toctree-l3"><a class="reference internal" href="town_bell.html#garrison-limit">Garrison limit</a></li>
<li class="toctree-l3"><a class="reference internal" href="town_bell.html#where-will-villagers-garrison">Where will villagers garrison?</a></li>
<li class="toctree-l3"><a class="reference internal" href="town_bell.html#possible-implementation">Possible implementation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="waypoints.html">Waypoints</a><ul>
<li class="toctree-l3"><a class="reference internal" href="waypoints.html#mechanics">Mechanics</a></li>
<li class="toctree-l3"><a class="reference internal" href="waypoints.html#limitation">Limitation</a></li>
<li class="toctree-l3"><a class="reference internal" href="waypoints.html#weird-aoe2-quirks">Weird AoE2 Quirks</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="wolves.html">Wolves</a><ul>
<li class="toctree-l3"><a class="reference internal" href="wolves.html#line-of-sight">Line of Sight</a></li>
<li class="toctree-l3"><a class="reference internal" href="wolves.html#balancing">Balancing</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/doxygen.html">openage c++/python index</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releasenotes/index.html">Release Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../releasenotes/0.3.0.html">0.3.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../releasenotes/0.3.0.html#date">Date</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../releasenotes/0.3.0.html#description">Description</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../releasenotes/0.2.3.html">0.2.3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../releasenotes/0.2.3.html#date">Date</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../releasenotes/0.2.3.html#description">Description</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../releasenotes/0.2.2.html">0.2.2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../releasenotes/0.2.2.html#date">Date</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../releasenotes/0.2.2.html#description">Description</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../releasenotes/0.2.1.html">0.2.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../releasenotes/0.2.1.html#date">Date</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../releasenotes/0.2.1.html#description">Description</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../releasenotes/0.2.0.html">0.2.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../releasenotes/0.2.0.html#date">Date</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../releasenotes/0.2.0.html#description">Description</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../releasenotes/0.2.0.html#milestone-2">Milestone 2</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../releasenotes/0.1.0.html">0.1.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../releasenotes/0.1.0.html#date">Date</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../releasenotes/0.1.0.html#description">Description</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../releasenotes/0.1.0.html#milestone-1">Milestone 1</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../releasenotes/0.0.0.html">0.0.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../releasenotes/0.0.0.html#date">Date</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../releasenotes/0.0.0.html#description">Description</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/todolist.html">Todo-list from sources</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">openage</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../../reference/reverse_engineering.html">Reverse-engineered AoE II</a> &raquo;</li>
        
          <li><a href="../index.html">Reverse-engineered AoE II</a> &raquo;</li>
        
      <li>Formations</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/markdown/reverse_engineering/game_mechanics/formations.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="garrison.html" class="btn btn-neutral float-right" title="Garrison" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="damage.html" class="btn btn-neutral float-left" title="Damage" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="formations">
<h1>Formations<a class="headerlink" href="#formations" title="Permalink to this headline">¶</a></h1>
<div class="section" id="principles-of-formations-in-aoe2">
<h2>Principles of Formations in AoE2<a class="headerlink" href="#principles-of-formations-in-aoe2" title="Permalink to this headline">¶</a></h2>
<p>Dave Pottinger’s Articles: <a class="reference external" href="http://www.gamasutra.com/view/feature/131720/coordinated_unit_movement.php">1</a> <a class="reference external" href="http://www.gamasutra.com/view/feature/131721/implementing_coordinated_movement.php">2</a></p>
<ol class="simple">
<li><p>Grouped units have the same speed</p></li>
</ol>
<p>The speed of a formation is determined by its slowest unit. This will help the formation to stay together.</p>
<ol class="simple">
<li><p>Grouped units take the same path</p></li>
</ol>
<p>If there is an obstruction in the units path, the group will stay together to avoid being attacked when separated.</p>
<ol class="simple">
<li><p>Grouped units arrive at the same time</p></li>
</ol>
<p>When a group is formed, the faster units should decrease their speed for slower units to catch up.</p>
</div>
<div class="section" id="structure">
<h2>Structure<a class="headerlink" href="#structure" title="Permalink to this headline">¶</a></h2>
<p>When talking about formations, one has to differentiate between</p>
<ol class="simple">
<li><p>The selection of the player</p></li>
<li><p>The ‘actual’ formation</p></li>
<li><p>The subformations of a formation</p></li>
</ol>
<p>Players can select any units they own and add them to their selection. Therefore, a selection can consist of varying unit types and allows mixing of buildings, military units, villagers and others. Not all of these units are capable of forming a formation. Buildings are excluded from formations because they can’t move and so are unpacked trebuchets. Villagers, trade carts and fishing ships will not be part of any formation. If they are moved, they don’t abide Pottinger’s rules and will move to the target at their normal speed while each of them takes their own path. Hence, when villagers are part of a selection of military units, the military units will form a formation and then move to the target while the villagers will independently move there.</p>
<p>A formation always consists of 4 subformations (which can be empty). What unit type belongs to what subformation is hard coded into the game. A quick overview is shown below. The <code class="docutils literal notranslate"><span class="pre">^</span></code>-symbol shows the front of the formation.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">...................</span>
<span class="o">...^^^^^^^.........</span>
<span class="mf">1.</span><span class="o">.</span><span class="n">Cavalry</span><span class="o">.........</span>
<span class="mf">2.</span><span class="o">.</span><span class="n">Infantry</span> <span class="p">(</span><span class="n">melee</span><span class="p">)</span>
<span class="mf">3.</span><span class="o">.</span><span class="n">Ranged</span><span class="o">..........</span>
<span class="mf">4.</span><span class="o">.</span><span class="n">Siege</span><span class="o">/</span><span class="n">Support</span><span class="o">...</span>
<span class="o">...................</span>
</pre></div>
</div>
<p>Every military unit in the game is sorted into one of these subformations depending on their <code class="docutils literal notranslate"><span class="pre">GroupID</span></code> (in some cases their <code class="docutils literal notranslate"><span class="pre">LineID</span></code>). Bear in mind, that the descriptions next to the subformations in the above figure are not fully accurate. For example, <em>cavalry archers</em> are part of the “Ranged”-subformation instead of the “Cavalry”-subformation. To avoid confusion specific subformations will from now on be referenced by their index (e.g. <code class="docutils literal notranslate"><span class="pre">subformation[1]</span></code> equals “Cavalry”-subformation) The figure below shows to which subformation a <code class="docutils literal notranslate"><span class="pre">GroupID</span></code> belongs.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">...................</span>
<span class="o">...^^^^^^^.........</span>
<span class="mf">1.</span><span class="o">.</span><span class="n">Cavalry</span><span class="o">.........</span> <span class="mi">912</span><span class="p">,</span> <span class="mi">947</span>
<span class="mf">2.</span><span class="o">.</span><span class="n">Infantry</span> <span class="p">(</span><span class="n">melee</span><span class="p">)</span> <span class="mi">906</span>
<span class="mf">3.</span><span class="o">.</span><span class="n">Ranged</span><span class="o">..........</span> <span class="mi">900</span><span class="p">,</span> <span class="mi">923</span><span class="p">,</span> <span class="mi">936</span><span class="p">,</span> <span class="mi">944</span><span class="p">,</span> <span class="mi">955</span>
<span class="mf">4.</span><span class="o">.</span><span class="n">Siege</span><span class="o">/</span><span class="n">Support</span><span class="o">...</span> <span class="mi">902</span><span class="p">,</span> <span class="mi">913</span><span class="p">,</span> <span class="mi">918</span><span class="p">,</span> <span class="mi">919</span><span class="p">,</span> <span class="mi">920</span><span class="p">,</span> <span class="mi">935</span><span class="p">,</span> <span class="mi">943</span><span class="p">,</span> <span class="mi">951</span><span class="p">,</span> <span class="mi">959</span><span class="p">,</span> <span class="n">Saboteur</span> <span class="p">(</span><span class="n">UnitID</span><span class="p">:</span> <span class="mi">706</span><span class="p">)</span>
<span class="o">...................</span>
<span class="mf">5.</span><span class="o">.</span><span class="n">Else</span><span class="o">............</span> <span class="mi">904</span><span class="p">,</span> <span class="mi">921</span><span class="p">,</span> <span class="mi">958</span><span class="p">,</span> <span class="mi">961</span> <span class="p">(</span><span class="ow">not</span> <span class="n">part</span> <span class="n">of</span> <span class="nb">any</span> <span class="n">formation</span><span class="p">)</span>
</pre></div>
</div>
<p>As you can see, the only exception to sorting by <code class="docutils literal notranslate"><span class="pre">GroupID</span></code> is the saboteur. Ships are also sorted into a formation by their <code class="docutils literal notranslate"><span class="pre">LineID</span></code> (see the section about <strong>Ship Formations</strong>).</p>
<p>Formations have a formation type which determines how the units are generally ordered (see <strong>Formation Types</strong>). The subformations inherit their formation type from the parent formation.</p>
<div class="section" id="ship-formations">
<h3>Ship Formations<a class="headerlink" href="#ship-formations" title="Permalink to this headline">¶</a></h3>
<p>Ships use the same formation system and are sorted into a subformation by similar rules. Instead of using <code class="docutils literal notranslate"><span class="pre">GroupID</span></code>, <code class="docutils literal notranslate"><span class="pre">LineID</span></code> determines which subformation is chosen (probably because all battle ships have the same <code class="docutils literal notranslate"><span class="pre">GroupID</span></code> 922). The figure below shows the subformations to which each class of ships is passed.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">WARNING</span><span class="p">:</span> <span class="n">These</span> <span class="n">are</span> <span class="n">LineIDs</span> <span class="ow">not</span> <span class="n">GroupIDs</span>
<span class="o">...................</span>
<span class="o">...^^^^^^^.........</span>
<span class="mf">1.</span><span class="o">.</span><span class="n">Cavalry</span><span class="o">.........</span> <span class="o">-</span><span class="mi">294</span>
<span class="mf">2.</span><span class="o">.</span><span class="n">Infantry</span> <span class="p">(</span><span class="n">melee</span><span class="p">)</span> <span class="o">-</span><span class="mi">293</span>
<span class="mf">3.</span><span class="o">.</span><span class="n">Ranged</span><span class="o">..........</span> <span class="o">-</span><span class="mi">283</span><span class="p">,</span> <span class="o">-</span><span class="mi">284</span><span class="p">,</span> <span class="o">-</span><span class="mi">292</span>
<span class="mf">4.</span><span class="o">.</span><span class="n">Support</span><span class="o">.........</span> <span class="o">-</span><span class="mi">285</span>
<span class="o">...................</span>
<span class="mf">5.</span><span class="o">.</span><span class="n">Else</span><span class="o">............</span> <span class="n">Admiral</span> <span class="n">Yun</span> <span class="n">Shi</span> <span class="p">(</span><span class="n">UnitID</span><span class="p">:</span> <span class="mi">844</span><span class="p">)</span>
</pre></div>
</div>
<p>Because the same formation system is used for land and sea units it is possible to mix them inside a formation. This behavior can be observed when one selects ships and land units and then sends them into shallow water.</p>
</div>
</div>
<div class="section" id="subformations">
<h2>Subformations<a class="headerlink" href="#subformations" title="Permalink to this headline">¶</a></h2>
<p>Subformations are the parts of the formation where the ordering of units into lines takes place. How units are ordered depends on a variety of factors and is also determined by other subformations in the parent formation.</p>
<div class="section" id="individual-subformation">
<h3>Individual Subformation<a class="headerlink" href="#individual-subformation" title="Permalink to this headline">¶</a></h3>
<p>For a start one has to look at the behavior of an individual subformation. Let’s assume we have a single subformation consisting of ranged units (<code class="docutils literal notranslate"><span class="pre">subformation[3]</span></code>).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">............</span>
<span class="o">...^^^^^^...</span>
<span class="o">...</span><span class="n">RRRRRR</span><span class="o">...</span>
<span class="o">...</span><span class="n">RRRRRR</span><span class="o">...</span>
<span class="o">............</span>
</pre></div>
</div>
<p>The number of lines (or <code class="docutils literal notranslate"><span class="pre">row_count</span></code>) in this subformation is always determined by the number of its units. Unit width and different unit types have no influence here. The <code class="docutils literal notranslate"><span class="pre">row_count</span></code> can be calculated by an algorithm (<a class="reference external" href="https://gist.github.com/Piruzzolo/e744c9da5ed18898fae85f29a560e90f">see here</a>). After the value has been calculated the units will be sorted into the lines starting from the top left.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">............</span>
<span class="o">...^^^^^^...</span>
<span class="o">..&gt;</span><span class="n">RRRRRR</span><span class="o">...</span>
<span class="o">...</span><span class="n">RRRRRR</span><span class="o">...</span>
<span class="o">............</span>
</pre></div>
</div>
<div class="section" id="mixing-unit-types">
<h4>Mixing Unit Types<a class="headerlink" href="#mixing-unit-types" title="Permalink to this headline">¶</a></h4>
<p>If a subformation is formed with units of more than one unit type, AoE2 tries to evenly distribute them. This is achieved by alternating between unit types when sorting them into a line. To determine the unit type, the <code class="docutils literal notranslate"><span class="pre">UnitID</span></code> value is used.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">............</span>
<span class="o">...^^^^^^...</span>
<span class="o">..&gt;</span><span class="n">ASASSS</span><span class="o">...</span>
<span class="o">...</span><span class="n">SSSSSS</span><span class="o">...</span>
<span class="o">............</span>
</pre></div>
</div>
<p>In the above example, we have a subformation consisting of 2 archers <code class="docutils literal notranslate"><span class="pre">A</span></code> and 10 skirmishers <code class="docutils literal notranslate"><span class="pre">S</span></code>. Beginning from the top left the subformation alternates between archers and skirmishers until there are no more archers left. The other skirmishers fill up the remaining space.</p>
<p>The same rules apply, if more than two unit types are used. We will now have a look at a subformation containing 5 archers <code class="docutils literal notranslate"><span class="pre">A</span></code>, 3 skirmishers <code class="docutils literal notranslate"><span class="pre">S</span></code>, 6 longbowman <code class="docutils literal notranslate"><span class="pre">L</span></code> and 1 throwing axeman <code class="docutils literal notranslate"><span class="pre">T</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">..............</span>
<span class="o">...^^^^^^^^...</span>
<span class="o">..&gt;</span><span class="n">LASTLASL</span><span class="o">...</span>
<span class="o">...</span><span class="n">LASLALA</span><span class="o">....</span>
<span class="o">..............</span>
</pre></div>
</div>
<p>Which unit type is sorted into the line first depends on the order in which the player selected the unit types (or how they are ordered inside the selection queue). In the first example of this section, the player selected the archers first and added the skirmishers to his selection. The second and above example would be the result of selecting longbowman first, archers second, skirmishers third and throwing axeman last.</p>
</div>
<div class="section" id="distance-between-units">
<h4>Distance Between Units<a class="headerlink" href="#distance-between-units" title="Permalink to this headline">¶</a></h4>
<p>How far units in a subformation stay apart is determined by the width of the widest units and the length of the longest unit. All units inside the subformation will follow this rule, regardless of their own height or length. As an example, one can select a few archers and a scorpion. Scorpions are one of the widest units in <code class="docutils literal notranslate"><span class="pre">subformation[3]</span></code> and will therefore determine the distance between all of the units. Furthermore, one will notice that all rows of the subformation are affected and not solely the line the scorpion is in.</p>
</div>
</div>
<div class="section" id="influence-of-other-subformations">
<h3>Influence of other Subformations<a class="headerlink" href="#influence-of-other-subformations" title="Permalink to this headline">¶</a></h3>
<p>So far we have only examined the grouping of individual subformation but left out the behavior of the parent formation. The parent formation knows about the variables of each subformation, e.g. <code class="docutils literal notranslate"><span class="pre">row_count</span></code> and <code class="docutils literal notranslate"><span class="pre">distance_between_units</span></code>. We will now see, how the parent formation can influence the <code class="docutils literal notranslate"><span class="pre">row_count</span></code> of other subformations.</p>
<p>Let’s view two subformations, one with swordsman and one with rams, independently.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">.............</span>
<span class="o">...</span><span class="n">SSSSSSS</span><span class="o">...</span>
<span class="o">...</span><span class="n">SSSSSSS</span><span class="o">...</span>
<span class="o">.............</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">............</span>
<span class="o">...</span><span class="n">RRRRRR</span><span class="o">...</span>
<span class="o">............</span>
</pre></div>
</div>
<p>We would expect that the grouping of units inside the parent formation looks exactly the same, with the two subformation just joined together. However, this is not the case. Instead, the parent formation will look like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">....................</span>
<span class="o">...</span><span class="n">SSSSSSSSSSSSSS</span><span class="o">...</span>
<span class="o">.......</span><span class="n">RRRRRR</span><span class="o">.......</span>
<span class="o">....................</span>
</pre></div>
</div>
<p>The reason for the change of the <code class="docutils literal notranslate"><span class="pre">row_count</span></code> for <code class="docutils literal notranslate"><span class="pre">subformation[2]</span></code> is the width of <code class="docutils literal notranslate"><span class="pre">subformation[4]</span></code>. Rams are about two times as wide as swordsman, hence the subformation they are in will also be much wider than <code class="docutils literal notranslate"><span class="pre">subformation[2]</span></code> if it is selected individually. To deal with the difference in width, the number of units per row of <code class="docutils literal notranslate"><span class="pre">subformation[2]</span></code> is extended. In general one can say that the widest subformation in the parent formation influences the <code class="docutils literal notranslate"><span class="pre">row_count</span></code> of all other subformations.</p>
</div>
</div>
<div class="section" id="formation-types">
<h2>Formation Types<a class="headerlink" href="#formation-types" title="Permalink to this headline">¶</a></h2>
<div class="section" id="line-formation">
<h3>Line Formation<a class="headerlink" href="#line-formation" title="Permalink to this headline">¶</a></h3>
<p>This is the standard formation whenever the player makes a selection. Units form lines (see all examples in <strong>Subformations</strong>) and are arranged with the weaker subformations in the back and the stronger ones in the front.</p>
</div>
<div class="section" id="staggered-formation">
<h3>Staggered Formation<a class="headerlink" href="#staggered-formation" title="Permalink to this headline">¶</a></h3>
<p>Behaves like the Line Formation except that the space between units is doubled for every subformation.</p>
</div>
<div class="section" id="boxed-formation">
<h3>Boxed Formation<a class="headerlink" href="#boxed-formation" title="Permalink to this headline">¶</a></h3>
<p>Units form the outline of a square. The weaker units are in the center while stronger units are placed on the outside. When representing a subformation with its corresponding number, it will look like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">...............</span>
<span class="o">.</span><span class="mf">1.1</span><span class="o">.</span><span class="mf">1.1</span><span class="o">.</span><span class="mf">1.1</span><span class="o">.</span><span class="mf">1.</span>
<span class="o">.</span><span class="mf">1.2</span><span class="o">.</span><span class="mf">2.2</span><span class="o">.</span><span class="mf">2.2</span><span class="o">.</span><span class="mf">1.</span>
<span class="o">.</span><span class="mf">1.2</span><span class="o">.</span><span class="mf">3.3</span><span class="o">.</span><span class="mf">3.2</span><span class="o">.</span><span class="mf">1.</span>
<span class="o">.</span><span class="mf">1.2</span><span class="o">.</span><span class="mf">3.4</span><span class="o">.</span><span class="mf">3.2</span><span class="o">.</span><span class="mf">1.</span>
<span class="o">.</span><span class="mf">1.2</span><span class="o">.</span><span class="mf">3.3</span><span class="o">.</span><span class="mf">3.2</span><span class="o">.</span><span class="mf">1.</span>
<span class="o">.</span><span class="mf">1.2</span><span class="o">.</span><span class="mf">2.2</span><span class="o">.</span><span class="mf">2.2</span><span class="o">.</span><span class="mf">1.</span>
<span class="o">.</span><span class="mf">1.1</span><span class="o">.</span><span class="mf">1.1</span><span class="o">.</span><span class="mf">1.1</span><span class="o">.</span><span class="mf">1.</span>
<span class="o">...............</span>
</pre></div>
</div>
<p>In comparison to the other formation types, the ordering of units with the boxed formation type in the subformations seems to be random and does not follow any specific rule. It is assumed that the units are grouped anew every time a movement order is placed.</p>
<p>This formation type is also rarely used in competitive games and presumably disfavored by players.</p>
</div>
<div class="section" id="flanked-formation">
<h3>Flanked Formation<a class="headerlink" href="#flanked-formation" title="Permalink to this headline">¶</a></h3>
<p>This type of formation leaves a big vertical gap between the rows of a line formation and effectively splits it in half. Otherwise it behaves exactly like a Line Formation regarding ordering of units.</p>
<p>Flanked formations play a crucial part in competitive play, when countering the attack of onagers against dense infantry.</p>
</div>
<div class="section" id="marching-formation">
<h3>Marching formation<a class="headerlink" href="#marching-formation" title="Permalink to this headline">¶</a></h3>
<p>The marching formation cannot be select by the player but is used by the game when a movement order is placed more than 10 tiles away from the current location of the player’s selection. It behaves like a Line Formation that is turned around by 90 degrees. Because this formation type is much narrower than all other types, units can fit through small gaps in tree lines and walls.</p>
</div>
</div>
<div class="section" id="limits-in-aoe2">
<h2>Limits in AoE2<a class="headerlink" href="#limits-in-aoe2" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Units will not sorted into the formation if they are too far away (10 tiles) from an already established formation. They will behave as if they were in <code class="docutils literal notranslate"><span class="pre">subformation[5]</span></code> and therefore don’t follow Pottinger’s rules. While this seems strange at first, it ensures that the point where the units join the group is not to far apart from the majority of units and that the formation gets moving towards its goal faster (instead of having to decrease its speed for a slow unit that is far away).</p></li>
<li><p>Formations will split on occasions where the obstruction is small (such as a single tree or a building). This was probably implemented to avoid formations to get stuck at a single choke point, e.g. a breach in the wall, when there are other optional paths nearby.</p></li>
<li><p>Units within the same formation don’t collide with each other when the formation is established. It is assumed that the pathfinding algorithm of AoE2 was not capable enough to handle the complexity of the formation system.</p></li>
<li><p>Units do not know how far they have to travel and are following a rough path that is recalculated if they encounter an obstruction. Therefore units will sometimes transition from marching to combat formations far too early.</p></li>
</ul>
</div>
<div class="section" id="algorithmic-solutions">
<h2>Algorithmic solutions<a class="headerlink" href="#algorithmic-solutions" title="Permalink to this headline">¶</a></h2>
<p>The proposed algorithms have a run time of <code class="docutils literal notranslate"><span class="pre">O(n)</span></code>, where <code class="docutils literal notranslate"><span class="pre">n</span></code> is the number of units. Therefore, implementing them shouldn’t affect performance that much, even for large formations over 40 units. <code class="docutils literal notranslate"><span class="pre">player_selection</span></code> is a set of units that the player selected and that is passed to the algorithm.</p>
<div class="section" id="sort-units-into-subformations-pseudocode">
<h3>Sort units into subformations (Pseudocode)<a class="headerlink" href="#sort-units-into-subformations-pseudocode" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">INPUT</span><span class="p">:</span>
<span class="o">-</span> <span class="n">Set</span> <span class="n">of</span> <span class="n">units</span><span class="p">:</span> <span class="n">player_selection</span>
<span class="o">-</span> <span class="n">Formation</span> <span class="nb">type</span><span class="p">:</span> <span class="n">formation_type</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Initilization</span><span class="p">:</span>

<span class="c1"># subformations for military units</span>
<span class="n">subformation</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">new</span> <span class="n">subformation</span><span class="p">();</span>
<span class="n">subformation</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">new</span> <span class="n">subformation</span><span class="p">();</span>
<span class="n">subformation</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">new</span> <span class="n">subformation</span><span class="p">();</span>
<span class="n">subformation</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="n">new</span> <span class="n">subformation</span><span class="p">();</span>

<span class="c1"># dummy subformation for every unit that will</span>
<span class="c1"># not form formations</span>
<span class="n">subformation</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="n">new</span> <span class="n">subformation</span><span class="p">();</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Algorithm</span><span class="p">:</span>

<span class="k">for</span> <span class="n">unit</span> <span class="n">u</span> <span class="ow">in</span> <span class="n">player_selection</span> <span class="n">do</span> <span class="p">{</span>
    <span class="n">switch</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">GROUP_ID</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">case</span> <span class="mi">912</span><span class="p">:</span>
        <span class="n">case</span> <span class="mi">947</span><span class="p">:</span> <span class="n">subformation</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">u</span><span class="p">);</span>
            <span class="k">break</span><span class="p">();</span>
        <span class="n">case</span> <span class="mi">906</span><span class="p">:</span> <span class="n">subformation</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">u</span><span class="p">);</span>
            <span class="k">break</span><span class="p">();</span>
        <span class="n">case</span> <span class="mi">900</span><span class="p">:</span>
        <span class="n">case</span> <span class="mi">923</span><span class="p">:</span>
        <span class="n">case</span> <span class="mi">936</span><span class="p">:</span>
        <span class="n">case</span> <span class="mi">944</span><span class="p">:</span>
        <span class="n">case</span> <span class="mi">955</span><span class="p">:</span> <span class="n">subformation</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">u</span><span class="p">);</span>
            <span class="k">break</span><span class="p">();</span>
        <span class="n">case</span> <span class="mi">902</span><span class="p">:</span>
        <span class="n">case</span> <span class="mi">913</span><span class="p">:</span>
        <span class="n">case</span> <span class="mi">918</span><span class="p">:</span>
        <span class="n">case</span> <span class="mi">919</span><span class="p">:</span>
        <span class="n">case</span> <span class="mi">920</span><span class="p">:</span>
        <span class="n">case</span> <span class="mi">935</span><span class="p">:</span>
        <span class="n">case</span> <span class="mi">943</span><span class="p">:</span>
        <span class="n">case</span> <span class="mi">951</span><span class="p">:</span>
        <span class="n">case</span> <span class="mi">959</span><span class="p">:</span> <span class="n">subformation</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">u</span><span class="p">);</span>
            <span class="k">break</span><span class="p">();</span>
        <span class="n">case</span> <span class="mi">922</span><span class="p">:</span>
        <span class="n">switch</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">LINE_ID</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">case</span> <span class="o">-</span><span class="mi">294</span><span class="p">:</span> <span class="n">subformation</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">u</span><span class="p">);</span>
                <span class="k">break</span><span class="p">();</span>
            <span class="n">case</span> <span class="o">-</span><span class="mi">293</span><span class="p">:</span> <span class="n">subformation</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">u</span><span class="p">);</span>
                <span class="k">break</span><span class="p">();</span>
            <span class="n">case</span> <span class="o">-</span><span class="mi">283</span><span class="p">:</span>
            <span class="n">case</span> <span class="o">-</span><span class="mi">284</span><span class="p">:</span>
            <span class="n">case</span> <span class="o">-</span><span class="mi">292</span><span class="p">:</span> <span class="n">subformation</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">u</span><span class="p">);</span>
                <span class="k">break</span><span class="p">();</span>
            <span class="n">case</span> <span class="o">-</span><span class="mi">285</span><span class="p">:</span>
            <span class="n">case</span> <span class="mi">706</span><span class="p">:</span> <span class="n">subformation</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">u</span><span class="p">);</span>
                <span class="k">break</span><span class="p">();</span>
            <span class="n">default</span><span class="p">:</span> <span class="n">subformation</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">u</span><span class="p">);</span>
                <span class="k">break</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="n">default</span><span class="p">:</span> <span class="n">subformation</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">u</span><span class="p">);</span>
            <span class="k">break</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="n">subformation</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">order_units</span><span class="p">(</span><span class="n">formation_type</span><span class="p">)</span>
<span class="n">subformation</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">order_units</span><span class="p">(</span><span class="n">formation_type</span><span class="p">)</span>
<span class="n">subformation</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">order_units</span><span class="p">(</span><span class="n">formation_type</span><span class="p">)</span>
<span class="n">subformation</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">order_units</span><span class="p">(</span><span class="n">formation_type</span><span class="p">)</span>
<span class="n">subformation</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">order_units</span><span class="p">(</span><span class="n">formation_type</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="add-units-into-a-subformation-pseudocode">
<h3>Add units into a subformation (Pseudocode)<a class="headerlink" href="#add-units-into-a-subformation-pseudocode" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">INPUT</span><span class="p">:</span>
<span class="o">-</span> <span class="n">A</span> <span class="n">unit</span><span class="p">:</span> <span class="n">unit</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Initilization</span><span class="p">:</span>

<span class="c1"># Create a list of stacks. Each stack will</span>
<span class="c1"># contain units of the same GroupID</span>
<span class="n">List</span> <span class="n">unit_stacks</span> <span class="o">=</span> <span class="n">new</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Stack</span><span class="o">&gt;</span><span class="p">();</span>

<span class="c1"># Create a list of GroupIDs that contains</span>
<span class="c1"># the IDs of units that are already in the</span>
<span class="c1"># subformation</span>
<span class="n">List</span> <span class="n">ids</span> <span class="o">=</span> <span class="n">new</span> <span class="n">List</span><span class="p">();</span>

<span class="n">unit_count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Algorithm</span><span class="p">:</span>

<span class="k">if</span> <span class="n">ids</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">unit</span><span class="o">.</span><span class="n">GROUP_ID</span><span class="p">)</span> <span class="n">then</span> <span class="p">{</span>
    <span class="n">index</span> <span class="o">=</span> <span class="n">ids</span><span class="o">.</span><span class="n">indexOf</span><span class="p">(</span><span class="n">units</span><span class="o">.</span><span class="n">GROUP_ID</span><span class="p">);</span>
    <span class="n">unit_stacks</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">index</span><span class="p">)</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">unit</span><span class="p">);</span>
    <span class="o">++</span><span class="n">unit_count</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">else</span> <span class="p">{</span>
    <span class="n">Stack</span> <span class="n">unit_stack</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Stack</span><span class="p">();</span>
    <span class="n">unit_stack</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">unit</span><span class="p">);</span>
    <span class="n">ids</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">unit</span><span class="o">.</span><span class="n">GROUP_ID</span><span class="p">);</span>
    <span class="n">unit_stacks</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">unit_stack</span><span class="p">);</span>
    <span class="o">++</span><span class="n">unit_count</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="order-units-inside-subformation-pseudocode">
<h3>Order units inside subformation (Pseudocode)<a class="headerlink" href="#order-units-inside-subformation-pseudocode" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">INPUT</span><span class="p">:</span>
<span class="o">-</span> <span class="n">List</span> <span class="n">of</span> <span class="n">Stacks</span><span class="p">:</span> <span class="n">unit_stacks</span>
<span class="o">-</span> <span class="n">Formation</span> <span class="nb">type</span><span class="p">:</span> <span class="n">formation_type</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Initilization</span><span class="p">:</span>

<span class="c1"># Contains the units in correct order beginning from</span>
<span class="c1"># the top left (see section about Mixing Units).</span>
<span class="n">List</span> <span class="n">unit_line</span> <span class="o">=</span> <span class="n">new</span> <span class="n">List</span><span class="p">();</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Algorithm:

# Creates a single ordered line
while !unit_stacks.isEmpty() do {
    for Stack s in unit_stacks do {
        unit_line.add(s.top());
        if s.isEmpty() then {
            unit_stacks.remove(s);
        }
    }
}

# Now calculate the position of each unit
# depending on formation_type and their position
# inside the unit_line list. This can represented
# by a relative offset from the front of the formation,
# which then has to be calculated to a global coordinate.
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="garrison.html" class="btn btn-neutral float-right" title="Garrison" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="damage.html" class="btn btn-neutral float-left" title="Damage" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2013-2019

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>