

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Openage graphics &mdash; openage v0.3.1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/graphviz.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >
          

          
            <a href="../../../index.html" class="icon icon-home"> openage
          

          
            
            <img src="../../../_static/banner.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/building.html">Building openage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../build_instructions/arch_linux.html">Prerequisite steps for Arch Linux users</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../build_instructions/debian.html">Prerequisite steps for Debian Sid users</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../build_instructions/fedora.html">Prerequisite steps for Fedora users (Fedora &gt;= 27)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../build_instructions/freebsd.html">Prerequisite steps for FreeBSD users</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../build_instructions/gentoo.html">Installation for Gentoo users</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../build_instructions/gentoo.html#overlay">Overlay</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../build_instructions/gentoo.html#installation">Installation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../build_instructions/gentoo.html#git-version">git version</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../build_instructions/index.html">Building openage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../build_instructions/arch_linux.html">Prerequisite steps for Arch Linux users</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../build_instructions/debian.html">Prerequisite steps for Debian Sid users</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../build_instructions/fedora.html">Prerequisite steps for Fedora users (Fedora &gt;= 27)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../build_instructions/freebsd.html">Prerequisite steps for FreeBSD users</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../build_instructions/gentoo.html">Installation for Gentoo users</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../build_instructions/gentoo.html#overlay">Overlay</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../build_instructions/gentoo.html#installation">Installation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../build_instructions/opensuse_13.2.html">Prerequisite steps for openSUSE users (openSUSE 13.2)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../build_instructions/opensuse_tumbleweed.html">Prerequisite steps for openSUSE users (openSUSE Tumbleweed)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../build_instructions/os_x_10.10_yosemite.html">Prerequisite steps for Mac OS X users (OS X 10.10 Yosemite)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../build_instructions/ubuntu.html">Prerequisite steps for Ubuntu users (Ubuntu 18.04)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../build_instructions/windows_msvc.html">Procedure for Microsoft Windows users (Windows 10)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../build_instructions/windows_msvc.html#setting-up-the-build-environment">Setting up the build environment</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../build_instructions/windows_msvc.html#building-openage">Building openage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../build_instructions/windows_msvc.html#running-openage-in-devmode">Running openage (in devmode)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../build_instructions/windows_msvc.html#packaging">Packaging</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../build_instructions/opensuse_13.2.html">Prerequisite steps for openSUSE users (openSUSE 13.2)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../build_instructions/opensuse_tumbleweed.html">Prerequisite steps for openSUSE users (openSUSE Tumbleweed)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../build_instructions/os_x_10.10_yosemite.html">Prerequisite steps for Mac OS X users (OS X 10.10 Yosemite)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../build_instructions/ubuntu.html">Prerequisite steps for Ubuntu users (Ubuntu 18.04)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../build_instructions/windows_msvc.html">Procedure for Microsoft Windows users (Windows 10)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../build_instructions/windows_msvc.html#setting-up-the-build-environment">Setting up the build environment</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../build_instructions/windows_msvc.html#python-modules">Python Modules</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../build_instructions/windows_msvc.html#vcpkg-packages">vcpkg packages</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../build_instructions/windows_msvc.html#building-openage">Building openage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../build_instructions/windows_msvc.html#running-openage-in-devmode">Running openage (in devmode)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../build_instructions/windows_msvc.html#packaging">Packaging</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Developing openage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../README.html">Documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../README.html#static-docs">Static Docs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../README.html#dynamic-docs">Dynamic Docs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../README.html#doc-generation">Doc Generation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture.html">openage architecture</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../architecture.html#overview">Overview</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../architecture.html#components">Components</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architecture.html#utilities">Utilities</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../architecture.html#information-flow">Information flow</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../architecture.html#current-architecture">Current architecture</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architecture.html#goal-architecture">Goal architecture</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../assets.html">openage assets</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../assets.html#asset-directories">Asset directories</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../assets.html#metadata-assets">Metadata assets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../assets.html#data-assets">Data assets</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../building.html">Building the project</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../building.html#buildsystem-design">Buildsystem Design</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../building.html#dependencies">Dependencies</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../building.html#dependency-installation">Dependency installation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../building.html#nyan-installation">nyan installation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../building.html#build-procedure">Build procedure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../building.html#development">Development</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../building.html#release">Release</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../building.html#for-packagers">For packagers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../building.html#troubleshooting">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../building.html#faq">FAQ</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../buildsystem.html">Concept</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../buildsystem.html#components">Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../buildsystem.html#procedure">Procedure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../buildsystem.html#phases">Phases</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../buildsystem.html#cmake-time-configure">CMake-time: <code class="docutils literal notranslate"><span class="pre">./configure</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../buildsystem.html#build-time-make">Build time: <code class="docutils literal notranslate"><span class="pre">make</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../buildsystem.html#install-time-make-install">Install time <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">install</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../buildsystem.html#core-buildsystem-modules">Core buildsystem modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../buildsystem.html#cpp">cpp</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../buildsystem.html#python">python</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../buildsystem.html#codegen">codegen</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../buildsystem.html#other-modules">other modules</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing.html">Contributing to openage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../contributing.html#what-can-i-do">What can I do?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing.html#what-s-the-concept">What’s the concept?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing.html#tl-dr">tl;dr</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing.html#workflow">Workflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing.html#what-makes-a-good-pull-request-good">What makes a good Pull Request good?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing.html#rebasing">Rebasing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../contributing.html#rebase-in-practice"><code class="docutils literal notranslate"><span class="pre">rebase</span></code> in practice</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../contributing.html#changing-commits-with-amend-and-fixup">Changing commits with <code class="docutils literal notranslate"><span class="pre">amend</span></code> and <code class="docutils literal notranslate"><span class="pre">fixup</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../contributing.html#pushing-changes">Pushing changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../debug.html">How to debug openage?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../debug.html#qt-creator-ide">Qt Creator IDE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../debug.html#gdb">GDB</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../debug.html#note">Note:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../debug.html#gdbgui">GDBGUI</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../development.html">About development</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../development.html#dev-team">Dev team</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../development.html#development-workflow">Development workflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../development.html#contributing">Contributing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../development.html#code-philosophy">Code philosophy</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../ide.html">Developing openage in Integrated Development Environments (IDEs)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../ide.html#qt-creator-ide">Qt Creator IDE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../ide.html#opening-and-configuring-the-project">Opening and configuring the project</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ide.html#enabling-parallel-build">Enabling parallel build</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ide.html#run-debug">Run &amp; Debug</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../media_convert.html">How to use the original game assets?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../media_convert.html#conversion">Conversion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../milestones.html">Milestones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../project_structure.html">Project Structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../project_structure.html#architecture">Architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../project_structure.html#languages">Languages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../project_structure.html#folders">Folders</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../project_structure.html#doc">doc/</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../project_structure.html#openage">openage/</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../project_structure.html#assets">assets/</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../project_structure.html#buildsystem">buildsystem/</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../project_structure.html#libopenage">libopenage/</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../status.html">openage status</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../status.html#the-list-must-grow">The list must grow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../status.html#working-features">Working features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../status.html#missing-functionality">Missing functionality</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../status.html#under-the-hood">Under the hood</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../status.html#python-interface">Python interface</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../status.html#inotify-file-reloading">Inotify file reloading</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../status.html#terminal-emulator">Terminal emulator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../status.html#buildsystem">Buildsystem</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../status.html#job-management">Job management</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../troubleshooting.html">Troubleshooting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../troubleshooting.html#asset-conversion">Asset Conversion</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../troubleshooting.html#conversion-fails-when-converting-from-aoe-ii-hd-edition">Conversion fails when converting from <em>AoE II: HD Edition</em></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../troubleshooting.html#conversion-fails-for-the-conquerors-1-0c">Conversion fails for <em>The Conquerors</em> 1.0c</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../troubleshooting.html#ingame">Ingame</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../troubleshooting.html#ui-elements-are-visible-but-the-background-stays-black">UI elements are visible but the background stays black</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/modding.html">Modding API (nyan)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../wiki/getting-started.html">Main Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../wiki/getting-started.html#contents">Contents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../wiki/quickstart-guide.html">Quickstart Guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../wiki/quickstart-guide.html#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../wiki/quickstart-guide.html#data-types">Data types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../wiki/quickstart-guide.html#unit-upgrades-in-nyan">Unit upgrades in nyan</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../wiki/quickstart-guide.html#objects">Objects</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../wiki/quickstart-guide.html#patches">Patches</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../wiki/quickstart-guide.html#creating-a-tech">Creating a tech</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../wiki/quickstart-guide.html#nyan-and-the-openage-engine">Nyan and the openage engine</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../nyan/conversion.html">nyan data conversion</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/conversion.html#gamedata-conversion">Gamedata conversion</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../nyan/examples.html">openage nyan examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nyan/nyan.html">nyan</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/nyan.html#idea">Idea</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/nyan.html#technical-specification">Technical specification</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/nyan.html#openage-specifics">openage specifics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../nyan/openage-lib.html">openage nyan library</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/openage-lib.html#design-principles">Design principles</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nyan/openage-lib.html#api-objects">API objects</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../nyan/openage-lib.html#entity">Entity</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../nyan/openage-lib.html#gameentity">GameEntity</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../nyan/openage-lib.html#ability">Ability</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../nyan/openage-lib.html#modifier">Modifier</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../nyan/openage-lib.html#effect">Effect</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../reverse_engineering/index.html">Reverse-engineered AoE II</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../reverse_engineering/unit_stats/unit_stats.html">Unit statistics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../reverse_engineering/unit_stats/unit_stats.html#age-of-kings">Age of Kings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reverse_engineering/unit_stats/unit_stats.html#age-of-conquerors">Age of Conquerors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reverse_engineering/unit_stats/unit_stats.html#forgotten-empires">Forgotten Empires</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reverse_engineering/unit_stats/unit_stats.html#african-kingsdoms">African Kingsdoms</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/doxygen.html">openage c++/python index</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releasenotes/index.html">Release Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../releasenotes/0.3.0.html">0.3.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../releasenotes/0.3.0.html#date">Date</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../releasenotes/0.3.0.html#description">Description</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../releasenotes/0.2.3.html">0.2.3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../releasenotes/0.2.3.html#date">Date</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../releasenotes/0.2.3.html#description">Description</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../releasenotes/0.2.2.html">0.2.2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../releasenotes/0.2.2.html#date">Date</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../releasenotes/0.2.2.html#description">Description</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../releasenotes/0.2.1.html">0.2.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../releasenotes/0.2.1.html#date">Date</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../releasenotes/0.2.1.html#description">Description</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../releasenotes/0.2.0.html">0.2.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../releasenotes/0.2.0.html#date">Date</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../releasenotes/0.2.0.html#description">Description</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../releasenotes/0.2.0.html#milestone-2">Milestone 2</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../releasenotes/0.1.0.html">0.1.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../releasenotes/0.1.0.html#date">Date</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../releasenotes/0.1.0.html#description">Description</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../releasenotes/0.1.0.html#milestone-1">Milestone 1</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../releasenotes/0.0.0.html">0.0.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../releasenotes/0.0.0.html#date">Date</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../releasenotes/0.0.0.html#description">Description</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">openage</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
      <li>Openage graphics</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/markdown/code/renderer/README.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="openage-graphics">
<h1>Openage graphics<a class="headerlink" href="#openage-graphics" title="Permalink to this headline">¶</a></h1>
<p>The graphics subsystem is implemented in two levels. The first level is an abstraction over graphics APIs (OpenGL, Vulkan) and provides generic shader execution methods. The second level uses the first to draw openage-specific graphics, i.e. the actual world, units, etc.</p>
<div class="section" id="namespaces">
<h2>Namespaces:<a class="headerlink" href="#namespaces" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">openage::renderer</span></code> - the level 1 renderer
<code class="docutils literal notranslate"><span class="pre">openage::renderer::opengl</span></code> - the OpenGL implementation
<code class="docutils literal notranslate"><span class="pre">openage::renderer::vulkan</span></code> - the Vulkan implementation
<code class="docutils literal notranslate"><span class="pre">openage::renderer::resources</span></code> - management of graphics assets</p>
<p><strong>TODO name</strong>
<code class="docutils literal notranslate"><span class="pre">openage::graphics</span></code> - the level 2 system</p>
<p>Every namespace is an actual directory and all its classes are contained there.</p>
</div>
<div class="section" id="level-1">
<h2>Level 1:<a class="headerlink" href="#level-1" title="Permalink to this headline">¶</a></h2>
<div class="section" id="overview">
<h3>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h3>
<p>First things first, we might want to support multiple APIs. For now just OpenGL, but maybe Vulkan or some others.  We want to abstract over these, but this can’t unfortunately be done at the level of graphics primitives like textures, buffers, etc. Well, it can, but it introduces unnecessary complexity and possible overhead. That is because the next-gen (Vulkan, Metal, DX12) APIs are vastly different from the old ones - most importantly, they’re bindless, so something like a Vulkan context (GL notion) doesn’t even make sense. We therefore choose to abstract on the higher level of things-to-draw.</p>
<p>It works similarly to the Unity engine. The user can submit resources to be uploaded to the GPU and receives a handle that identifies the uploaded resource. Resources can be added, updated and removed. Currently supported resource types: shader, texture.</p>
</div>
<div class="section" id="thread-safety">
<h3>Thread-safety<a class="headerlink" href="#thread-safety" title="Permalink to this headline">¶</a></h3>
<p>This level might or might not be threadsafe depending on the concrete implementation. The OpenGL version is, in typical GL fashion, so not-threadsafe it’s almost anti-threadsafe. All code must be executed sequentially on a dedicated window thread, the same one on which the window and renderer were initially created. The plan for the Vulkan version is to make it at least independent of thread-local storage and hopefully completely threadsafe.</p>
</div>
<div class="section" id="usage">
<h3>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h3>
<div class="section" id="renderer">
<h4>Renderer<a class="headerlink" href="#renderer" title="Permalink to this headline">¶</a></h4>
<p>All interaction with the renderer is done through the abstract <code class="docutils literal notranslate"><span class="pre">Renderer</span></code> class, initialized with a concrete implementation. For an OpenGL implementation, first create a window and then make a renderer for it:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">opengl</span><span class="o">::</span><span class="n">GlWindow</span> <span class="n">window</span><span class="p">(</span><span class="s">&quot;title&quot;</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="mi">768</span><span class="p">);</span>
<span class="n">std</span><span class="o">::</span><span class="n">unique_ptr</span><span class="o">&lt;</span><span class="n">Renderer</span><span class="o">&gt;</span> <span class="n">renderer</span> <span class="o">=</span> <span class="n">window</span><span class="p">.</span><span class="n">make_renderer</span><span class="p">();</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">opengl</span></code> namespace or any other implementation-specific namespace like `vulkan`` should not ever be used after initializing the window.</p>
</div>
<div class="section" id="resources">
<h4>Resources<a class="headerlink" href="#resources" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">resources</span></code> namespace provides classes for initializing and loading meshes, textures, shaders, etc.
These objects can then be passed to the renderer to make them usable with graphics hardware, e.g.:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">auto</span> <span class="n">vshader_src</span> <span class="o">=</span> <span class="n">resources</span><span class="o">::</span><span class="n">ShaderSource</span><span class="p">(</span>
    <span class="n">resources</span><span class="o">::</span><span class="n">shader_lang_t</span><span class="o">::</span><span class="n">glsl</span><span class="p">,</span>
    <span class="n">resources</span><span class="o">::</span><span class="n">shader_stage_t</span><span class="o">::</span><span class="n">vertex</span><span class="p">,</span>
    <span class="s">&quot;#version 330</span><span class="se">\n</span><span class="s">void main() {}&quot;</span>
<span class="p">);</span>

<span class="k">auto</span> <span class="n">fshader_src</span> <span class="o">=</span> <span class="n">resources</span><span class="o">::</span><span class="n">ShaderSource</span><span class="p">(</span>
    <span class="n">resources</span><span class="o">::</span><span class="n">shader_lang_t</span><span class="o">::</span><span class="n">glsl</span><span class="p">,</span>
    <span class="n">resources</span><span class="o">::</span><span class="n">shader_stage_t</span><span class="o">::</span><span class="n">fragment</span><span class="p">,</span>
    <span class="s">&quot;#version 330</span><span class="se">\n</span><span class="s">void main() {}&quot;</span>
<span class="p">);</span>

<span class="k">auto</span> <span class="n">shader</span> <span class="o">=</span> <span class="n">renderer</span><span class="o">-&gt;</span><span class="n">add_shader</span><span class="p">(</span> <span class="p">{</span> <span class="n">vshader_src</span><span class="p">,</span> <span class="n">fshader_src</span> <span class="p">}</span> <span class="p">);</span>

<span class="k">auto</span> <span class="n">tex</span> <span class="o">=</span> <span class="n">resources</span><span class="o">::</span><span class="n">Texture2dData</span><span class="p">(</span><span class="n">game_path</span> <span class="o">/</span> <span class="s">&quot;/assets/gaben.png&quot;</span><span class="p">);</span>
<span class="k">auto</span> <span class="n">gpu_tex</span> <span class="o">=</span> <span class="n">renderer</span><span class="o">-&gt;</span><span class="n">add_texture</span><span class="p">(</span><span class="n">tex</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="renderpass-and-renderable">
<h4>RenderPass and Renderable<a class="headerlink" href="#renderpass-and-renderable" title="Permalink to this headline">¶</a></h4>
<p>Graphics operations are executed through submitting <code class="docutils literal notranslate"><span class="pre">RenderPass</span></code>es and <code class="docutils literal notranslate"><span class="pre">Renderable</span></code>s to the <code class="docutils literal notranslate"><span class="pre">Renderer</span></code> object. For details,
see <code class="docutils literal notranslate"><span class="pre">renderer.h</span></code>.</p>
</div>
<div class="section" id="sample-usage">
<h4>Sample usage:<a class="headerlink" href="#sample-usage" title="Permalink to this headline">¶</a></h4>
<p>Sample usage:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span>opengl::GlWindow window(&quot;title&quot;, 1024, 768&#39;);
std::unique_ptr&lt;Renderer&gt; renderer = window.make_renderer();

resources::TextureData tex_data(game_path / &quot;/path.tex&quot;);
std::unique_ptr&lt;Texture2d&gt; tex = renderer-&gt;add_texture(tex_data);

resources::ShaderSource vsrc = resources::ShaderSource(
    resources::shader_lang_t::glsl,
    resources::shader_stage_t::vertex,
    game_path / &quot;path.vert&quot;
);
resources::ShaderSource fsrc = resources::ShaderSource(resources::shader_t::glsl_fragment);
    resources::shader_lang_t::glsl,
    resources::shader_stage_t::fragment,
    game_path / &quot;path.frag&quot;
);

std::unique_ptr&lt;ShaderProgram&gt; prog = renderer-&gt;add_shader( { vsrc, fsrc } );

std::unique_ptr&lt;UniformInput&gt; input = prog-&gt;new_uniform_input(
  &quot;color&quot;, { 0.0f, 1.0f, 0.0f },
  &quot;time&quot;, 0.0f,
  &quot;num&quot;, 1337
);

std::unique_ptr&lt;Geometry&gt; geom = renderer-&gt;add_bufferless_quad();

RenderPass pass {
  { {
    input.get(),
    geom.get(),
    true,
    true,
  } },
  renderer-&gt;get_framebuffer_target(),
};

renderer-&gt;render(pass);
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="level-2">
<h2>Level 2:<a class="headerlink" href="#level-2" title="Permalink to this headline">¶</a></h2>
<p>On top of the level 1 renderer, we build a level 2 graphics subsystem. It has an API that is actually specific to Openage, and is threadsafe. The level-2 renderer calls the level 1 renderer and updates it to match the game state. In some documentation this is also called the “presenter”.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2013-2019

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>