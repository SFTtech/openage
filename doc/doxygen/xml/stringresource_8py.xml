<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.15">
  <compounddef id="stringresource_8py" kind="file" language="Python">
    <compoundname>stringresource.py</compoundname>
    <innerclass refid="classopenage_1_1convert_1_1stringresource_1_1_string_resource" prot="public">openage::convert::stringresource::StringResource</innerclass>
    <innernamespace refid="namespaceopenage_1_1convert_1_1stringresource">openage::convert::stringresource</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1" refid="namespaceopenage_1_1convert_1_1stringresource" refkind="compound"><highlight class="comment">#<sp/>Copyright<sp/>2014-2015<sp/>the<sp/>openage<sp/>authors.<sp/>See<sp/>copying.md<sp/>for<sp/>legal<sp/>info.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="comment">#<sp/>TODO<sp/>pylint:<sp/>disable=C</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>collections<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>defaultdict</highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>.dataformat<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>exportable,<sp/>data_definition,<sp/>struct_definition</highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classopenage_1_1convert_1_1stringresource_1_1_string_resource" kindref="compound">StringResource</ref>(exportable.Exportable):</highlight></codeline>
<codeline lineno="11"><highlight class="normal"><sp/><sp/><sp/><sp/>name_struct<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;string_resource&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12" refid="classopenage_1_1convert_1_1stringresource_1_1_string_resource" refkind="compound"><highlight class="normal"><sp/><sp/><sp/><sp/>name_struct_file<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;string_resource&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13" refid="classopenage_1_1convert_1_1stringresource_1_1_string_resource_1ae27dc7c64bf6f4e809e4d9f7f382c850" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>struct_description<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;string<sp/>id/language<sp/>to<sp/>text<sp/>mapping,&quot;</highlight><highlight class="normal">\</highlight></codeline>
<codeline lineno="14" refid="classopenage_1_1convert_1_1stringresource_1_1_string_resource_1a0cebd404e6699617d19d2fef99a6843b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>extracted<sp/>from<sp/>language.dll<sp/>file.&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15" refid="classopenage_1_1convert_1_1stringresource_1_1_string_resource_1a29b70717309e904f5e5e4bc9fa390e06" refkind="member"><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"><sp/><sp/><sp/><sp/>data_format<sp/>=<sp/>(</highlight></codeline>
<codeline lineno="17"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="keyword">True</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;id&quot;</highlight><highlight class="normal">,<sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;int32_t&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="18" refid="classopenage_1_1convert_1_1stringresource_1_1_string_resource_1a0acb5f3af7e168ab815ab95844e681e2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="keyword">True</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;lang&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;char[16]&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="19"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="keyword">True</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;text&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;std::string&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="20"><highlight class="normal"><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classopenage_1_1convert_1_1stringresource_1_1_string_resource_1a09d9b592e139e34913dba5f72983694b" kindref="member">__init__</ref>(self):</highlight></codeline>
<codeline lineno="23"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>super().<ref refid="classopenage_1_1convert_1_1stringresource_1_1_string_resource_1a09d9b592e139e34913dba5f72983694b" kindref="member">__init__</ref>()</highlight></codeline>
<codeline lineno="24" refid="classopenage_1_1convert_1_1stringresource_1_1_string_resource_1a09d9b592e139e34913dba5f72983694b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classopenage_1_1convert_1_1stringresource_1_1_string_resource_1ad16c320e06dfe507052997f9478bfa21" kindref="member">strings</ref><sp/>=<sp/>defaultdict(</highlight><highlight class="keyword">lambda</highlight><highlight class="normal">:<sp/>{})</highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight></codeline>
<codeline lineno="26" refid="classopenage_1_1convert_1_1stringresource_1_1_string_resource_1ad16c320e06dfe507052997f9478bfa21" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classopenage_1_1convert_1_1stringresource_1_1_string_resource_1a9a5cb6827440f531c1760e711c13a652" kindref="member">fill_from</ref>(self,<sp/>stringtable):</highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="28"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stringtable<sp/>is<sp/>a<sp/>dict<sp/>{langcode:<sp/>{id:<sp/>string}}</highlight></codeline>
<codeline lineno="29"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>lang,<sp/>langstrings<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>stringtable.items():</highlight></codeline>
<codeline lineno="31" refid="classopenage_1_1convert_1_1stringresource_1_1_string_resource_1a9a5cb6827440f531c1760e711c13a652" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classopenage_1_1convert_1_1stringresource_1_1_string_resource_1ad16c320e06dfe507052997f9478bfa21" kindref="member">strings</ref>[lang].update(langstrings)</highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classopenage_1_1convert_1_1stringresource_1_1_string_resource_1a4534f9e425147656e2c2669608b29127" kindref="member">dump</ref>(self,<sp/>filename):</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data<sp/>=<sp/><ref refid="namespaceopenage_1_1py_1a58cbca251b8e2118e0a6b9b0b78a7b32" kindref="member">list</ref>()</highlight></codeline>
<codeline lineno="35" refid="classopenage_1_1convert_1_1stringresource_1_1_string_resource_1a4534f9e425147656e2c2669608b29127" refkind="member"><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>lang,<sp/>langstrings<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classopenage_1_1convert_1_1stringresource_1_1_string_resource_1ad16c320e06dfe507052997f9478bfa21" kindref="member">strings</ref>.items():</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>idx,<sp/>text<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>langstrings.items():</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>entry<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;id&quot;</highlight><highlight class="normal">:<sp/>idx,</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;lang&quot;</highlight><highlight class="normal">:<sp/>lang,</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;text&quot;</highlight><highlight class="normal">:<sp/>text,</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data.append(entry)</highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data<sp/>=<sp/>sorted(data,<sp/>key=</highlight><highlight class="keyword">lambda</highlight><highlight class="normal"><sp/>x:<sp/>x[</highlight><highlight class="stringliteral">&quot;id&quot;</highlight><highlight class="normal">])</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[data_definition.DataDefinition(self,<sp/>data,<sp/>filename)]</highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/>@classmethod</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classopenage_1_1convert_1_1stringresource_1_1_string_resource_1aa99fb664ebbef40b59e73e3ce335e8c0" kindref="member">structs</ref>(cls):</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[struct_definition.StructDefinition(cls)]</highlight></codeline>
    </programlisting>
    <location file="C:/Users/Jameson/Documents/git-projects/openage/openage/convert/stringresource.py"/>
  </compounddef>
</doxygen>
